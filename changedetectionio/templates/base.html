<!DOCTYPE html>
<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0" >
    <meta name="description" content="Self hosted website change detection." >
    <title>Change Detection{{extra_title}}</title>
    {% if app_rss_token %}
      <link rel="alternate" type="application/rss+xml" title="Changedetection.io Â» Feed{% if active_tag_uuid %}- {{active_tag.title}}{% endif %}" href="{{ url_for('rss.feed', tag=active_tag_uuid , token=app_rss_token)}}" >
    {% endif %}
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="{{url_for('static_content', group='styles', filename='styles.css')}}?v={{ get_css_version() }}" >
    {% if extra_stylesheets %}
      {% for m in extra_stylesheets %}
        <link rel="stylesheet" href="{{ m }}?ver={{ get_css_version() }}" >
      {% endfor %}
    {% endif %}

    <link rel="apple-touch-icon" sizes="180x180" href="{{url_for('static_content', group='favicons', filename='apple-touch-icon.png')}}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{url_for('static_content', group='favicons', filename='favicon-32x32.png')}}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{url_for('static_content', group='favicons', filename='favicon-16x16.png')}}">
    <link rel="manifest" href="{{url_for('static_content', group='favicons', filename='site.webmanifest')}}">
    <link rel="mask-icon" href="{{url_for('static_content', group='favicons', filename='safari-pinned-tab.svg')}}" color="#5bbad5">
    <link rel="shortcut icon" href="{{url_for('static_content', group='favicons', filename='favicon.ico')}}">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <script>
        const csrftoken="{{ csrf_token() }}";
    </script>
    <script src="{{url_for('static_content', group='js', filename='jquery-3.6.0.min.js')}}"></script>
    <script src="{{url_for('static_content', group='js', filename='csrf.js')}}" defer></script>
  </head>

  <body class="font-sans">
    <div class="navbar bg-base-100 shadow-md mb-4">
      <div class="navbar-start">
        {% if has_password and not current_user.is_authenticated %}
          <a class="btn btn-ghost normal-case text-xl" href="https://changedetection.io" rel="noopener">
            <strong>Change</strong>Detection.io</a>
        {% else %}
          <a class="btn btn-ghost normal-case text-xl" href="{{url_for('watchlist.index')}}">
            <strong>Change</strong>Detection.io</a>
        {% endif %}
      </div>
      <div class="navbar-center">
        {% if current_diff_url %}
          <a class="text-sm hidden md:inline-block" href="{{ current_diff_url }}">
            <span class="max-w-xs truncate">{{ current_diff_url }}</span></a>
        {% else %}
          {% if new_version_available and not(has_password and not current_user.is_authenticated) %}
            <span id="new-version-text" class="text-info">
              <a href="https://changedetection.io">A new version is available</a>
            </span>
          {% endif %}
        {% endif %}
      </div>
      <div class="navbar-end">
        <ul class="menu menu-horizontal px-1 items-center">
          {% if current_user.is_authenticated or not has_password %}
            {% if not current_diff_url %}
              <li><a href="{{ url_for('tags.tags_overview_page')}}">GROUPS</a></li>
              <li><a href="{{ url_for('settings.settings_page')}}">SETTINGS</a></li>
              <li><a href="{{ url_for('imports.import_page')}}">IMPORT</a></li>
              <li><a href="{{ url_for('backups.index')}}">BACKUPS</a></li>
            {% else %}
              <li><a href="{{ url_for('ui.ui_edit.edit_page', uuid=uuid, next='diff') }}">EDIT</a></li>
            {% endif %}
          {% else %}
            <li><a href="https://changedetection.io">Website Change Detection and Notification.</a></li>
          {% endif %}
          {% if current_user.is_authenticated %}
            <li><a href="{{url_for('logout')}}">LOG OUT</a></li>
          {% endif %}
          {% if current_user.is_authenticated or not has_password %}
          <li id="search-menu-item">
            <form name="searchForm" action="" method="GET" class="form-control">
              <div class="input-group input-group-sm">
                <input id="search-q" name="q" type="text" placeholder="URL or Title {% if active_tag_uuid %}in '{{ active_tag.title }}'{% endif %}" required="" class="input input-bordered input-sm" value="">
                <input name="tags" type="hidden" value="{% if active_tag_uuid %}{{active_tag_uuid}}{% endif %}">
                <button class="btn btn-square btn-sm" id="toggle-search" type="submit" title="Search, or Use Alt+S Key" >
                  {% include "svgs/search-icon.svg" %}
                </button>
              </div>
            </form>
          </li>
          {% endif %}
          <li>
            <button class="btn btn-ghost btn-circle" id ="toggle-light-mode" type="button" title="Toggle Light/Dark Mode">
              <span class="visually-hidden">Toggle light/dark mode</span>
              <span class="icon-light">
                {% include "svgs/light-mode-toggle-icon.svg" %}
              </span>
              <span class="icon-dark" style="display: none;">
                {% include "svgs/dark-mode-toggle-icon.svg" %}
              </span>
            </button>
          </li>
          <li id="heart-us">
                <svg
                   fill="#ff0000"
                   class="bi bi-heart w-6 h-6"
                   preserveAspectRatio="xMidYMid meet"
                   viewBox="0 0 16.9 16.1"
                   id="svg-heart"
                   xmlns="http://www.w3.org/2000/svg"
                   >
                  <path id="heartpath" d="M 5.338316,0.50302766 C 0.71136983,0.50647126 -3.9576371,7.2707777 8.5004254,15.503028 23.833425,5.3700277 13.220206,-2.5384409 8.6762066,1.6475589 c -0.060791,0.054322 -0.11943,0.1110064 -0.1757812,0.1699219 -0.057,-0.059 -0.1157813,-0.116875 -0.1757812,-0.171875 C 7.4724566,0.86129334 6.4060729,0.50223298 5.338316,0.50302766 Z"
                     style="fill:var(--color-background);fill-opacity:1;stroke:#ff0000;stroke-opacity:1" />
                </svg>
          </li>
          <li>
            <a class="btn btn-ghost btn-circle" href="https://github.com/dgtlmoon/changedetection.io">
              {% include "svgs/github.svg" %}
            </a>
          </li>
        </ul>
      </div>
    </div>


    {% if hosted_sticky %}
      <div class="sticky-tab bg-base-200 p-3 shadow-lg rounded-lg text-sm" id="hosted-sticky">
        <a href="https://changedetection.io/?ref={{guid}}" class="link link-hover">Let us host your instance!</a>
      </div>
    {% endif %}
    {% if left_sticky %}
      <div class="sticky-tab bg-base-200 p-3 shadow-lg rounded-lg text-sm" id="left-sticky">
        <a href="{{url_for('ui.ui_views.preview_page', uuid=uuid)}}" class="link link-hover">Show current snapshot</a><br>
          Visualise <strong>triggers</strong> and <strong>ignored text</strong>
      </div>
    {% endif %}
    {% if right_sticky %}
      <div class="sticky-tab bg-base-200 p-3 shadow-lg rounded-lg text-sm" id="right-sticky">{{ right_sticky }}</div>
    {% endif %}
    <section class="container mx-auto px-4">
        <div id="overlay">
            <div class="prose lg:prose-xl p-8 bg-base-200 rounded-box shadow-xl">
                <h4 class="text-2xl font-bold">Try our Chrome extension</h4>
                <p>
                    <a id="chrome-extension-link"
                       title="Chrome Extension - Web Page Change Detection with changedetection.io!"
                       href="https://chromewebstore.google.com/detail/changedetectionio-website/kefcfmgmlhmankjmnbijimhofdjekbop">
                        <img alt="Chrome store icon" src="{{url_for('static_content', group='images', filename='google-chrome-icon.png')}}" class="inline-block h-8 w-8 mr-2">
                        Chrome Webstore
                    </a>
                </p>
                <p>Easily add the current web-page from your browser directly into your changedetection.io tool, more great features coming soon!</p>
                <h4 class="text-2xl font-bold">Changedetection.io needs your support!</h4>
                <p>
                    You can help us by supporting changedetection.io on these platforms;
                </p>
                <ul class="list-disc pl-5">
                    <li>
                        <a href="https://alternativeto.net/software/changedetection-io/about/" title="Web page change detection at alternativeto.net" class="link link-hover">Rate us at
                        AlternativeTo.net</a>
                    </li>
                    <li>
                        <a href="https://github.com/dgtlmoon/changedetection.io" title="Web page change detection on GitHub" class="link link-hover">Star us on GitHub</a>
                    </li>
                    <li>
                        <a rel="nofollow" href="https://twitter.com/change_det_io" title="Web page change detection on Twitter" class="link link-hover">Follow us at Twitter/X</a>
                    </li>
                    <li>
                        <a rel="nofollow" href="https://www.g2.com/products/changedetection-io/reviews" title="Web page change detection reviews at G2" class="link link-hover">G2 Software reviews</a>
                    </li>
                    <li>
                        <a rel="nofollow" href="https://www.linkedin.com/company/changedetection-io" title="Visit web page change detection at LinkedIn" class="link link-hover">Check us out on LinkedIn</a>
                    </li>
                    <li>
                        And tell your friends and colleagues :)
                    </li>
                </ul>
                <p>
                    The more popular changedetection.io is, the more time we can dedicate to adding amazing features!
                </p>
                <p>
                    Many thanks :)<br>
                </p>
                <p>
                    <i>changedetection.io team</i>
                </p>
            </div>
        </div>
        <header>
        {% block header %}{% endblock %}
      </header>

      {% with messages = get_flashed_messages(with_categories = true) %}
      {% if messages %}
        <div class="my-4">
          {% for category, message in messages %}
            {# Default to 'alert-info' if category is not specific #}
            {% set alert_class = 'alert-info' %}
            {% if category == 'error' or category == 'danger' %}
              {% set alert_class = 'alert-error' %}
            {% elif category == 'success' %}
              {% set alert_class = 'alert-success' %}
            {% elif category == 'warning' %}
              {% set alert_class = 'alert-warning' %}
            {% endif %}
            <div class="alert {{ alert_class }} shadow-lg mb-2">
              <div>
                <span>{{ message }}</span>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
      {% endwith %}
      {% if session['share-link'] %}
        <div class="alert alert-info shadow-lg my-4">
          <div>
            <span>Share this link:</span>
            <kbd class="kbd kbd-sm" id="share-link">{{ session['share-link'] }}</kbd>
            <button class="btn btn-xs btn-ghost" onclick="navigator.clipboard.writeText('{{ session['share-link'] }}')">
                <img style="height: 1em; display: inline-block" src="{{url_for('static_content', group='images', filename='copy.svg')}}" alt="Copy" >
            </button>
          </div>
        </div>
      {% endif %}
      {% block content %}{% endblock %}
    </section>
    <script src="{{url_for('static_content', group='js', filename='toggle-theme.js')}}" defer></script>
  </body>

</html>
